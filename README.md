# ğŸ” C'CIN â€“ Formation CybersÃ©curitÃ©

Plateforme web de sensibilisation cybersÃ©curitÃ© : un formateur pilote la session, les participants rejoignent via un code unique, rÃ©alisent des ateliers/quizz et gÃ©nÃ¨rent leur certificat PDF.

**ğŸ¯ Objectif :** proposer une formation interactive et mesurable Ã  lâ€™Ã©chelle dâ€™une Ã©quipe.  
**ğŸ‘¥ Cible :** entreprises, Ã©coles, organismes de formation et Ã©quipes internes.

## ğŸŒ AccÃ¨s public & lien GitHub
| âœ… Point clÃ© | ğŸ“„ DÃ©tail |
| --- | --- |
| HÃ©bergement | Application **publique** dÃ©ployÃ©e sur **Vercel**. |
| GitHub | DÃ©ploiement directement liÃ© au dÃ©pÃ´t GitHub (build automatique). |
| Usage | AccÃ¨s en ligne â€” aucune utilisation locale prÃ©vue. |

## âœ¨ FonctionnalitÃ©s
- ğŸ”‘ Session partagÃ©e par code avec synchronisation temps rÃ©el.
- ğŸ“ Plan de formation Ã©ditable (titre, sous-titre, modules) depuis l'admin.
- ğŸ“Š Tableau des scores (ateliers + quiz final) pour tous les participants.
- ğŸ§  Quiz final portÃ© Ã  15 questions pertinentes.
- ğŸ“ GÃ©nÃ©ration de certificat **PDF A4** basÃ© sur les scores.

## ğŸ—„ï¸ Persistance & API
| ğŸ¯ Ã‰lÃ©ment | ğŸ“„ DÃ©tails |
| --- | --- |
| Mode par dÃ©faut | Stockage en mÃ©moire (utile pour dÃ©monstrations simples). |
| Mode persistant | Supabase/PostgreSQL via REST (`/rest/v1/*`). Si les variables Supabase sont prÃ©sentes, la synchro s'effectue cÃ´tÃ© serveur. |
| Tables recommandÃ©es | `sessions(code, state, created_at, updated_at, client_ip)` â€¢ `participants(code, participant_id, name, last_seen, is_host)` â€¢ `scores(code, participant_id, participant_name, activity, score, total, type, timestamp)` |
| Routes Next.js | `POST /api/sessions` â€¢ `GET/PUT /api/sessions/[code]` â€¢ `GET/POST /api/sessions/[code]/participants` â€¢ `GET/POST /api/sessions/[code]/scores` |

## ğŸŒ± Variables d'environnement (.env)
Le fichier `.env` centralise la configuration **non sensible** de lâ€™application.  
Il est lu par Vercel lors du build et au runtime afin dâ€™activer la persistance Supabase et la synchronisation cÃ´tÃ© serveur.

| ğŸ”§ Variable | ğŸ“„ RÃ´le | ğŸ§© Exemple de valeur |
| --- | --- | --- |
| `SUPABASE_URL` | URL du projet Supabase. | `https://<projet>.supabase.co` |
| `SUPABASE_SERVICE_ROLE_KEY` | ClÃ© serveur Supabase utilisÃ©e cÃ´tÃ© backend. | (valeur masquÃ©e) |
| `SUPABASE_ANON_KEY` | ClÃ© publique Supabase, utilisÃ©e si la clÃ© service est absente. | (valeur masquÃ©e) |
| `NEXT_PUBLIC_SERVER_SYNC` | Force la synchro via lâ€™API serveur. | `true` / `false` |
| `NEXT_TELEMETRY_DISABLED` | DÃ©sactive la tÃ©lÃ©mÃ©trie Next.js. | `1` |

âœ… **Important :** les valeurs rÃ©elles sont configurÃ©es dans Vercel.  
ğŸš« Aucune clÃ© nâ€™est stockÃ©e ou exposÃ©e dans le README.

## ğŸ§­ Utilisation rapide
1. Le formateur active le **mode admin** (mot de passe `admin123`) pour crÃ©er un code de session.
2. Chaque participant saisit son **prÃ©nom + nom** et le **code session** pour rejoindre.
3. Les onglets **Contenu** et **Scores** de l'admin permettent respectivement d'Ã©diter le plan et de suivre les rÃ©sultats.
4. Chaque participant peut gÃ©nÃ©rer son **certificat PDF** en fin de session dans un format A4.

## ğŸ—ƒï¸ SchÃ©ma Supabase (SQL) | Copier Coller Manuellement dans (SQL Editor)
```sql
create table if not exists sessions (
  id bigint generated by default as identity primary key,
  code text unique not null,
  state jsonb not null,
  created_at timestamptz default now(),
  updated_at timestamptz default now(),
  client_ip text
);

create table if not exists participants (
  id bigint generated by default as identity primary key,
  code text not null references sessions(code) on delete cascade,
  participant_id text not null,
  name text,
  last_seen timestamptz default now(),
  is_host boolean default false
);

create table if not exists scores (
  id bigint generated by default as identity primary key,
  code text not null references sessions(code) on delete cascade,
  participant_id text not null,
  participant_name text,
  activity text,
  score int,
  total int,
  type text,
  timestamp timestamptz default now()
);
```

## ğŸ”— Source
| ğŸ¨ Couleur | ğŸ“š RÃ©fÃ©rence | ğŸ“ Description |
| --- | --- | --- |
| ğŸŸ¢ | [Next.js Docs](https://nextjs.org/docs) | Architecture, build standalone, routes API. |
| ğŸŸ£ | [Supabase REST](https://supabase.com/docs/guides/api) | AccÃ¨s REST et schÃ©ma Postgres recommandÃ©. |
| ğŸ”µ | [Vercel](https://vercel.com/docs) | DÃ©ploiement public, builds et environnements. |
